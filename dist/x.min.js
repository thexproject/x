(()=>{class e{constructor(t){t instanceof Node?this.node=t:t instanceof e?this.node=t.node:!t&&document.currentScript?this.node=document.currentScript.parentNode:t.startsWith("<")?((t=t.substring(1)).endsWith(">")&&(t=t.substring(0,t.length-1)),(t=t.trim()).endsWith("/")&&(t=t.substring(0,t.length-1)),t=t.trim(),this.node=document.createElement(t)):this.node=document.querySelector(t),this.node&&(this.node.listeners=void 0===this.node.listeners?[]:this.node.listeners)}value(e){return void 0===e?this.node.value:(this.node.value=e,this)}text(e){return void 0===e?this.node.textContent:(this.node.textContent=e,this)}html(e){if(void 0===e)return this.node.innerHTML;{this.node.innerHTML=e;const t=e=>{if("SCRIPT"===e.tagName)e.parentNode.replaceChild(x("<script>").text(e.innerHTML).node,e);else{let n=/IFRAME|TEMPLATE/.exec(e.tagName)?e.content.childNodes:e.childNodes;for(let e of n)t(e)}};return t(this.node),this}}append(t){let n;return n=t instanceof Node?t:t instanceof e?t.node:x("<template>").html(t.trim()).node.content.firstChild,this.node.appendChild(n),new e(n)}prepend(t){let n;return n=t instanceof Node?t:t instanceof e?t.node:x("<template>").html(t.trim()).node.content.firstChild,this.node.insertBefore(n,this.node.firstChild),new e(n)}appendTo(t){return new e(t).append(this.node),this}prependTo(t){return new e(t).prepend(this.node),this}classes(e){return void 0===e?this.node.className.split(" "):(this.node.className=e.join(" "),this)}addClass(e){return this.node.className+=" ",this.node.className+=e,this}removeClass(e){let t=this.node.className.split(" ");return t.includes(e)&&delete t[t.indexOf(e)],this.node.className=t.join(" "),this}id(e){return void 0===e?this.node.id:(this.node.id=e,this)}style(e,t){return void 0===e?this.node.style:void 0===t?this.node.style[e]:(this.node.style[e]=t,this)}destroy(){this.node.parentNode.removeChild(this.node)}on(e,t,n){return this.node.listeners[t]=(e=>{t(e,n)}),this.node.addEventListener(e,this.node.listeners[t],!1),this}rmOn(e,t){return this.node.removeEventListener(e,this.node.listeners[t],!1),this}click(e,t){return void 0===e?this.node.click():(this.on("touchend",n=>{n.preventDefault(),e(t)},!0),this.on("click",n=>{n.preventDefault(),e(t)},!0)),this}hover(e,t){return void 0===e?this.node.click():(this.on("touchstart",n=>{n.preventDefault(),e(t)},!0),this.on("mouseover",n=>{n.preventDefault(),e(t)},!0)),this}find(t){return new e(this.node.querySelector(t))}parent(){return new e(this.node.parentNode)}}window.x=(t=>new e(t)),window.xAct=((e,t)=>{const n=/<<([^>>]+)?>>/g,i=/(^( )*(if|for|else|switch|case|break|var|let|const|{|}))(.*)?/g;let s,o="var list = [];\n",r=0;const d=(e,t)=>{return o+=t?e.match(i)||(e=>{if(!e.includes("="))return!1;const t=/"|'|`/;let n=!1,i="="!==e[0],s="",o=0;for(let r of e){let d=0===o?r:e[o-1];if(t.test(r)&&"\\"!==d&&(n?r===s&&(n=!1):(n=!0,s=r)),"="===r&&!n&&i)return!0;o++}return!1})(e.trim())?(e.trim().endsWith(";")?e:e+";")+"\n":`list.push(${e});\n`:""===e?"":`list.push("${e.replace(/"/g,'\\"')}");\n`,d};for(;s=n.exec(e);)d(e.slice(r,s.index))(s[1],!0),r=s.index+s[0].length;return d(e.substr(r,e.length-r)),o+='return list.join("");',new Function(o.replace(/[\r\t\n]/g,"")).apply(t)}),window.xJax=(async(e,t)=>{let n="";if(void 0!==t){n+="?";for(let e in t)n+=encodeURIComponent(e),n+="=",n+=encodeURIComponent(t[e]),n+="&";n=n.substring(0,n.length-1)}let i=await fetch(e+n);return await i.text()})})();